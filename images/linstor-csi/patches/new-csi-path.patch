From 437829e8e479fad5d547825c665d30682c8193a7 Mon Sep 17 00:00:00 2001
From: Aleksandr Zimin <alexandr.zimin@flant.com>
Date: Sun, 25 Aug 2024 21:40:16 +0300
Subject: [PATCH] Change csi endpoint to replicated.csi.storage.deckhouse.io

Signed-off-by: Aleksandr Zimin <alexandr.zimin@flant.com>
---
 cmd/linstor-csi/linstor-csi.go | 2 +-
 pkg/linstor/const.go           | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/cmd/linstor-csi/linstor-csi.go b/cmd/linstor-csi/linstor-csi.go
index 6e6d56d..aaafaee 100644
--- a/cmd/linstor-csi/linstor-csi.go
+++ b/cmd/linstor-csi/linstor-csi.go
@@ -42,7 +42,7 @@ func main() {
 	var (
 		lsEndpoint            = flag.String("linstor-endpoint", "", "Controller API endpoint for LINSTOR")
 		lsSkipTLSVerification = flag.Bool("linstor-skip-tls-verification", false, "If true, do not verify tls")
-		csiEndpoint           = flag.String("csi-endpoint", "unix:///var/lib/kubelet/plugins/linstor.csi.linbit.com/csi.sock", "CSI endpoint")
+		csiEndpoint           = flag.String("csi-endpoint", "unix:///var/lib/kubelet/plugins/replicated.csi.storage.deckhouse.io/csi.sock", "CSI endpoint")
 		node                  = flag.String("node", "", "Node ID to pass to node service")
 		logLevel              = flag.String("log-level", "info", "Enable debug log output. Choose from: panic, fatal, error, warn, info, debug")
 		rps                   = flag.Float64("linstor-api-requests-per-second", 0, "Maximum allowed number of LINSTOR API requests per second. Default: Unlimited")
diff --git a/pkg/linstor/const.go b/pkg/linstor/const.go
index 9a5f79c..63d8fae 100644
--- a/pkg/linstor/const.go
+++ b/pkg/linstor/const.go
@@ -24,7 +24,7 @@ import (
 
 const (
 	// DriverName is the name used in CSI calls for this driver.
-	DriverName = "linstor.csi.linbit.com"
+	DriverName = "replicated.csi.storage.deckhouse.io"
 
 	// LinstorBackupKVName is the name of the KV store used to map L2L backups to local snapshot names
 	LinstorBackupKVName = "csi-backup-mapping"
-- 
2.39.3 (Apple Git-146)

