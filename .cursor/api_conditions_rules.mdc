---
description: API Conditions naming rules (v1alpha1)
globs:
  - "api/**/*.go"
  - "!api/linstor/**/*.go"
alwaysApply: true
---

- Condition constants naming:
  - Any API type that has `.status.conditions` (`[]metav1.Condition`) MUST have its own condition type/reason constants scoped by object prefix.
  - Current API types with `.status.conditions` in this repo:
    - `RV` (ReplicatedVolume)
    - `RVR` (ReplicatedVolumeReplica)
    - `RVA` (ReplicatedVolumeAttachment)
    - `RSC` (ReplicatedStorageClass)
    - `RSP` (ReplicatedStoragePool)

- Condition Type constants MUST be named:
  - `<ObjPrefix>Cond<CondTypeName>Type`
  - `CondTypeName` MUST match the string value of `.Type`.
  - Examples:
    - `RVCondIOReadyType = "IOReady"`
    - `RVRCondDataInitializedType = "DataInitialized"`
    - `RVACondReplicaIOReadyType = "ReplicaIOReady"`

- Condition Reason constants MUST be named:
  - `<ObjPrefix>Cond<CondTypeName>Reason<ReasonName>`
  - `CondTypeName` MUST match the string value of the condition type (the `.Type` string).
  - `ReasonName` MUST match the string value of `.Reason`.
  - Examples:
    - `RVRCondScheduledReasonReplicaScheduled = "ReplicaScheduled"`
    - `RVCondQuorumReasonQuorumLost = "QuorumLost"`
    - `RVACondAttachedReasonSettingPrimary = "SettingPrimary"`

- Value stability (MUST):
  - Do NOT change string values of `.Type` and `.Reason` constants.
  - Only rename Go identifiers when reorganizing/clarifying.

- Scoping & duplication (MUST):
  - Do NOT use generic `ConditionType*` / `Reason*` constants.
  - If the same reason string is used by multiple conditions, create separate constants per condition type, even if the string is identical.
    - Example: `"NodeNotReady"`:
      - `RVRCondOnlineReasonNodeNotReady = "NodeNotReady"`
      - `RVRCondIOReadyReasonNodeNotReady = "NodeNotReady"`