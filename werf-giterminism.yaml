giterminismConfigVersion: 1
config:
  goTemplateRendering: # The rules for the Go-template functions to be able to pass build context to the release
    allowEnvVariables:
      - /CI_.+/
      - MODULES_MODULE_TAG
      - MODULE_EDITION
      - WERF_DISABLE_META_TAGS
      - GOLANG_VERSION
      - GOPROXY
      - SOURCE_REPO
      - SOURCE_REPO_TAG
      - /COSIGN_.+/
      - REGISTRY_USER
      - REGISTRY_PASSWORD
      - ACTIONS_ID_TOKEN_REQUEST_TOKEN
      - ACTIONS_ID_TOKEN_REQUEST_URL
    allowUncommittedFiles:
      - "base_images.yml"
  secrets:
    allowEnvVariables:
      - REGISTRY_USER
      - REGISTRY_PASSWORD
      - COSIGN_VAULT_ADDRESS
      - COSIGN_VAULT_KEY
      - COSIGN_AUTH_ROLE
      - COSIGN_TRANSIT_SECRET_ENGINE_PATH
      - ACTIONS_ID_TOKEN_REQUEST_TOKEN
      - ACTIONS_ID_TOKEN_REQUEST_URL
  stapel:
    mount:
      allowBuildDir: true
      allowFromPaths:
        - ~/go-pkg-cache
