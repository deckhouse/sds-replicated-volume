# Hack Scripts

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## generate_release_notes.py

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ —Ä–µ–ª–∏–∑–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫ –∏–∑ —Ñ–∞–π–ª–æ–≤ changelog.

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–∏—Ç YAML —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `CHANGELOG/` –∏ —Å–æ–∑–¥–∞–µ—Ç –¥–≤–∞ markdown —Ñ–∞–π–ª–∞:

- `docs/RELEASE_NOTES.md` - –∞–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è —Ä–µ–ª–∏–∑–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫
- `docs/RELEASE_NOTES.ru.md` - —Ä—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è —Ä–µ–ª–∏–∑–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
python3 hack/generate_release_notes.py
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.6+
- PyYAML (`pip install PyYAML`)

### –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–°–∫—Ä–∏–ø—Ç –æ–∂–∏–¥–∞–µ—Ç YAML —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `CHANGELOG/` —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

**–ê–Ω–≥–ª–∏–π—Å–∫–∏–µ —Ñ–∞–π–ª—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `0.2.4.yml`):

```yaml
Changes:
  - Added additional mountings for containerd v2 support
  - Fixed security issue in authentication
```

**–†—É—Å—Å–∫–∏–µ —Ñ–∞–π–ª—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `0.2.4.ru.yml`):

```yaml
–ò–∑–º–µ–Ω–µ–Ω–∏—è:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ containerd v2
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

### –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç markdown —Ñ–∞–π–ª—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```markdown
---
title: "Release Notes"
---

## v0.2.4

* Added additional mountings for containerd v2 support
* Fixed security issue in authentication

## v0.2.3

* Previous release changes...
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã `docs/RELEASE_NOTES.md` –∏ `docs/RELEASE_NOTES.ru.md` –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö
- –í–µ—Ä—Å–∏–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (–Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–≤—ã–º–∏)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Ç–∞–∫ –∏ –æ–¥–∏–Ω–æ—á–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
- –°–∫—Ä–∏–ø—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## git_commits_after_tag.py

–°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–º–∏—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–µ–≥.

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –≤–µ—Ç–∫—É main
2. –í—ã–ø–æ–ª–Ω—è–µ—Ç git fetch –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
3. –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–µ–≥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
4. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–∏—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ–≥–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
python3 hack/git_commits_after_tag.py
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.6+
- Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ main**: –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –≤–µ—Ç–∫—É main
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**: –í—ã–ø–æ–ª–Ω—è–µ—Ç `git fetch --all` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–ü–æ–∏—Å–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ–≥–∞**: –ù–∞—Ö–æ–¥–∏—Ç —Å–∞–º—ã–π –Ω–æ–≤—ã–π —Ç–µ–≥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- **–°–ø–∏—Å–æ–∫ –∫–æ–º–º–∏—Ç–æ–≤**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–º–∏—Ç—ã –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ–≥–∞
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üöÄ –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ–≥–∞
============================================================
üìç –¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞: main
üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–µ—Ç–∫—É main...
‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏–ª–∏—Å—å –Ω–∞ –≤–µ—Ç–∫—É main
üîÑ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (git fetch)...
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
üîç –ü–æ–∏—Å–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ–≥–∞...
‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ç–µ–≥: v0.2.4
üîç –ü–æ–∏—Å–∫ –∫–æ–º–º–∏—Ç–æ–≤ –ø–æ—Å–ª–µ —Ç–µ–≥–∞ v0.2.4...
‚úÖ –ù–∞–π–¥–µ–Ω–æ 2 –∫–æ–º–º–∏—Ç–æ–≤ –ø–æ—Å–ª–µ —Ç–µ–≥–∞ v0.2.4

üìã –°–ø–∏—Å–æ–∫ –∫–æ–º–º–∏—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ–≥–∞ (2 –∫–æ–º–º–∏—Ç–æ–≤):
============================================================
 1. a1b2c3d - feat: add new feature
 2. e4f5g6h - fix: resolve bug in authentication
============================================================
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ–≥–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–µ—Ä–≤—ã—Ö 10 –∫–æ–º–º–∏—Ç–∞—Ö
- –ò—Å–∫–ª—é—á–∞–µ—Ç merge –∫–æ–º–º–∏—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ —Å —ç–º–æ–¥–∑–∏ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
