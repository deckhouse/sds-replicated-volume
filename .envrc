#!/usr/bin/env bash
set -euo pipefail

# Keep project caches in-repo to avoid polluting global $HOME caches.
mkdir -p \
  "$PWD/.cache" \
  "$PWD/.cache/go-build" \
  "$PWD/.cache/go-mod" \
  "$PWD/.cache/go-tmp" \
  "$PWD/.cache/golangci-lint"

export XDG_CACHE_HOME="$PWD/.cache"

# Go caches
export GOCACHE="$PWD/.cache/go-build"
export GOMODCACHE="$PWD/.cache/go-mod"
export GOTMPDIR="$PWD/.cache/go-tmp"

# golangci-lint cache (used by `go tool golangci-lint ...`)
export GOLANGCI_LINT_CACHE="$PWD/.cache/golangci-lint"


